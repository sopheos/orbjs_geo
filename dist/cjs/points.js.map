{"version":3,"file":"points.js","names":["_point","require","Points","exports","_classCallCheck2","default","_defineProperty2","_createClass2","key","value","add","point","points","push","all","bounds","length","Point","minlat","maxlat","minlon","maxlon","i","forEach","getLat","getLon","center","lat","lon","closer","min","item","d","distanceTo"],"sources":["../../src/points.ts"],"sourcesContent":["import { Point } from \"./point\"\n\n/**\n * Points\n */\nexport class Points {\n\n    private points: Point[] = [];\n\n    public add(point: Point): Points {\n        this.points.push(point);\n        return this;\n    }\n\n    public all(): Point[] {\n        return this.points;\n    }\n\n    public bounds(): Point[] {\n        if (!this.points.length) return [new Point(-180, -180), new Point(180, 180)];\n\n        let minlat = 0;\n        let maxlat = 0;\n        let minlon = 0;\n        let maxlon = 0;\n        let i = 0;\n\n        this.points.forEach((point: Point) => {\n            if (i === 0) {\n                minlat = point.getLat();\n                maxlat = point.getLat();\n                minlon = point.getLon();\n                maxlon = point.getLon();\n            } else {\n                if (minlat > point.getLat()) minlat = point.getLat();\n                if (maxlat < point.getLat()) maxlat = point.getLat();\n                if (minlon > point.getLon()) minlon = point.getLon();\n                if (maxlon < point.getLon()) maxlon = point.getLon();\n            }\n\n            i++;\n        });\n\n        return [new Point(minlat, minlon), new Point(maxlat, maxlon)];\n    }\n\n    public center(): Point {\n        if (!this.points.length) return new Point();\n        let bounds = this.bounds();\n        let lat = (bounds[0].getLat() + bounds[1].getLat()) / 2;\n        let lon = (bounds[0].getLon() + bounds[1].getLon()) / 2;\n        return new Point(lat, lon);\n    }\n\n    public closer(): Point {\n\n        if (!this.points.length) return new Point();\n\n        let center: Point = this.center();\n        let min: number | null = null;\n        let item: Point = new Point();;\n\n        this.points.forEach((point: Point) => {\n            let d = center.distanceTo(point);\n\n            if (min === null || min > d) {\n                min = d;\n                item = point;\n            }\n        });\n\n        return item;\n    }\n}"],"mappings":"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","ignoreList":[]}