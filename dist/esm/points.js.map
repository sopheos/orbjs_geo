{"version":3,"file":"points.js","names":["Point","Points","_classCallCheck","_defineProperty","_createClass","key","value","add","point","points","push","all","bounds","length","minlat","maxlat","minlon","maxlon","i","forEach","getLat","getLon","center","lat","lon","closer","min","item","d","distanceTo"],"sources":["../../src/points.ts"],"sourcesContent":["import { Point } from \"./point\"\n\n/**\n * Points\n */\nexport class Points {\n\n    private points: Point[] = [];\n\n    public add(point: Point): Points {\n        this.points.push(point);\n        return this;\n    }\n\n    public all(): Point[] {\n        return this.points;\n    }\n\n    public bounds(): Point[] {\n        if (!this.points.length) return [new Point(-180, -180), new Point(180, 180)];\n\n        let minlat = 0;\n        let maxlat = 0;\n        let minlon = 0;\n        let maxlon = 0;\n        let i = 0;\n\n        this.points.forEach((point: Point) => {\n            if (i === 0) {\n                minlat = point.getLat();\n                maxlat = point.getLat();\n                minlon = point.getLon();\n                maxlon = point.getLon();\n            } else {\n                if (minlat > point.getLat()) minlat = point.getLat();\n                if (maxlat < point.getLat()) maxlat = point.getLat();\n                if (minlon > point.getLon()) minlon = point.getLon();\n                if (maxlon < point.getLon()) maxlon = point.getLon();\n            }\n\n            i++;\n        });\n\n        return [new Point(minlat, minlon), new Point(maxlat, maxlon)];\n    }\n\n    public center(): Point {\n        if (!this.points.length) return new Point();\n        let bounds = this.bounds();\n        let lat = (bounds[0].getLat() + bounds[1].getLat()) / 2;\n        let lon = (bounds[0].getLon() + bounds[1].getLon()) / 2;\n        return new Point(lat, lon);\n    }\n\n    public closer(): Point {\n\n        if (!this.points.length) return new Point();\n\n        let center: Point = this.center();\n        let min: number | null = null;\n        let item: Point = new Point();;\n\n        this.points.forEach((point: Point) => {\n            let d = center.distanceTo(point);\n\n            if (min === null || min > d) {\n                min = d;\n                item = point;\n            }\n        });\n\n        return item;\n    }\n}"],"mappings":"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","ignoreList":[]}